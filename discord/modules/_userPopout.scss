/*----//----USER POPOUT----------*/
// role pills by Cynthia
// updated once again by the awesome Cynthia (Davri#0015) in 2022
// rewritten again in 2023 to use placeholder selectors, along with the rest of the theme

$up-border-color: var(--background-modifier-accent); //$rb-bg-accent;
$up-desired-width: 300px;
$up-spacing: 4px;

%role:not(%roleAddButton) {
    position: relative;
    overflow: hidden;
    background: none;
    border-radius: 50px;
}

%roleAddButton {
	border-radius: 50px; 
	width: 22px
}

%roleRemoveButton { position: static; }

// don't do the ::after for role add popout
%role %roleCircle:not([class*="popoutRoleCircle-"])::after {
    content: "";
    inset: 0;
    position: absolute;
    background: inherit;
    opacity: 0.25;
}

%rolePillBorder, %role { border: 1px solid $up-border-color; }
%roleRemoveIcon { left: 14px; }

// userPopout
%userPopoutOuter {
	width: $up-desired-width;
	border-radius: 8px;
	background: $border-color;

	// wrappers
	%userPopoutOverlayBackground {
		background-color: $rb-bg-secondary;
		margin: 28px 0 0 0;
		width: $up-desired-width;
	}

	%userPopoutInner {
		background-color: $border-color;
		&::before {
			opacity: 1;
			background-color: $border-color;
			width: $up-desired-width;
			margin-bottom: 0 !important;
			border-radius: 0;
		}
	}

	// top to bottom elements - don't wanna nest bc extra specificity could break the selectors

	%userPopoutBannerPremium,
	%userPopoutNoBannerPremium {
		width: $up-desired-width;
		object-position: center;
		border-radius: 4px;
	}

	%userModalNickname { color: $rb-text-vibrant; }

	%userPopoutProfileBadges {
		background-color: $rb-bg-secondary;
		right: 0;
	}
	
	%userModalNote {
		textarea:focus { background-color: transparent !important; }
		border: 1px solid $up-border-color;
		border-radius: 3px;
		padding: 5px 10px;
	}
	%userPopoutMessageInputContainer { border-color: $up-border-color; }

	// unthemed reverts & fixes
	&%userProfileOuterUnthemed {
		%userPopoutInner::before { border-radius: 8px; }
		%userPopoutProfileBadges { right: $up-spacing; }
		%userPopoutOverlayBackground { 
			margin: 28px $up-spacing $up-spacing $up-spacing; 
			width: calc($up-desired-width - ($up-spacing * 2));
		}	
	}
	
}